# ========================================
# üîç DEBUG lottery-web ERROR
# ========================================
# ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡πà‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏°‡∏≤
# ========================================

# 1. ‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ PM2
pm2 list

# 2. ‡∏î‡∏π Error Logs ‡∏Ç‡∏≠‡∏á lottery-web
pm2 logs lottery-web --lines 100 --nostream

# 3. ‡∏î‡∏π Error Logs ‡∏Ç‡∏≠‡∏á lottery-api
pm2 logs lottery-api --lines 50 --nostream

# 4. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ Build ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
echo "=== Checking Backend Build ==="
ls -la /var/www/lottery/apps/api/dist/main.js

echo "=== Checking Frontend Build ==="
ls -la /var/www/lottery/apps/web/.next

# 5. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ Frontend ‡∏£‡∏±‡∏ô‡∏ó‡∏µ‡πà port ‡∏≠‡∏∞‡πÑ‡∏£
echo "=== Checking Ports ==="
netstat -tulpn | grep node

# 6. ‡∏•‡∏≠‡∏á‡∏£‡∏±‡∏ô Frontend ‡πÅ‡∏ö‡∏ö manual
echo "=== Trying to start frontend manually ==="
cd /var/www/lottery/apps/web
npm start

# ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏Ñ‡∏£‡∏±‡∏ö
